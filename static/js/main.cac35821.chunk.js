(this["webpackJsonpcot-prj"]=this["webpackJsonpcot-prj"]||[]).push([[0],{19:function(e,t,n){e.exports=n(44)},24:function(e,t,n){},25:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),c=n(16),i=n.n(c),u=(n(24),n(2)),o=(n(25),n(45)),l=n(1),m=n.n(l),d=n(4),h=n(5),p=n(6),f=n(17),v=n.n(f).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_BASE_URL||"https://jsonplaceholder.typicode.com/",headers:{"Content-type":"application/json"}}),b=function(){function e(t){Object(h.a)(this,e),this.userId="",this.id="",this.title="",this.body="",null!=t&&(this.userId=t.userId||"",this.id=t.id||"",this.title=t.title||"",this.body=t.body||"")}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e(t)}}]),e}(),E=new(function(){function e(){Object(h.a)(this,e),this._relativeUrl="posts",this._cachedPostList=void 0}return Object(p.a)(e,[{key:"retrievePost",value:function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,v.get("".concat(this._relativeUrl));case 3:return e.t1=e.sent.data,e.abrupt("return",e.t0.deserialize.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"retrievePostList",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this._cachedPostList){e.next=2;break}return e.abrupt("return",this._cachedPostList);case 2:return e.next=4,v.get("".concat(this._relativeUrl));case 4:return t=e.sent,n=t.data.map(b.deserialize),this._cachedPostList=n,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(d.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,v.patch("".concat(this._relativeUrl,"/").concat(t),n);case 3:return e.t1=e.sent.data,e.abrupt("return",e.t0.deserialize.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.delete("".concat(this._relativeUrl,"/").concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrievePostFromUser",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrievePostList();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.userId===t})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),y=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1];return s.a.createElement("div",{className:"m"},s.a.createElement("span",{className:"m"},e.title||"Search"),s.a.createElement("input",{type:"text",className:"m",value:a,onChange:function(t){return n=t.target.value,c(n),void(e.onNewSearch&&e.onNewSearch(n));var n}}),a&&s.a.createElement("button",{className:"m",onClick:function(){c(""),e.onReset()}},"Reset"))},w=function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.post.title),s.a.createElement("td",null,e.deletePost&&s.a.createElement("button",{onClick:function(){return e.deletePost&&e.deletePost(e.post.id)}},"Delete")))},O=function(e){return s.a.createElement("div",{className:"cent"},s.a.createElement("table",{className:"m"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Title"))),s.a.createElement("tbody",null,e.postList.map((function(t){return s.a.createElement(w,{key:t.id,post:t,deletePost:e.deletePost})})))))},j=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),l=Object(u.a)(i,2),m=l[0],d=l[1],h=Object(r.useState)(0),p=Object(u.a)(h,2),f=p[0],v=p[1],b=Object(r.useState)(!1),w=Object(u.a)(b,2),j=w[0],P=w[1];Object(r.useEffect)((function(){var e=Object(o.a)(E.retrievePostList()).subscribe({next:function(e){c(e),k(e,0)},error:function(e){}});return function(){e.unsubscribe()}}),[]);var k=function(e,t){v(t);var n=e.slice(25*t,25*(t+1));d(n)},N=function(){return Math.ceil(a.length/25)-1},x=function(){return 0===f},S=function(){return f===N()},g=function(){P(!1),d(a)};return s.a.createElement("div",null,s.a.createElement(y,{title:"Magic search",onNewSearch:function(e){var t=null===e||void 0===e?void 0:e.toLowerCase();if(t){P(!0);var n=a.filter((function(e){var n,a,r,s;return(null===(n=e.title)||void 0===n||null===(a=n.toLowerCase())||void 0===a?void 0:a.includes(t))||(null===(r=e.body)||void 0===r||null===(s=r.toLowerCase())||void 0===s?void 0:s.includes(t))}));d(n),k(n,0)}else g()},onReset:g}),!j&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"m"},"Page ",f+1),s.a.createElement("div",{className:"m"},!x()&&s.a.createElement("button",{className:"mx mw-100",onClick:function(){k(a,0)}},"First page"),!x()&&s.a.createElement("button",{className:"mx mw-100",onClick:function(){k(a,f-1)}},"Previous page"),!S()&&s.a.createElement("button",{className:"mx mw-100",onClick:function(){k(a,f+1)}},"Next page"),!S()&&s.a.createElement("button",{className:"mx mw-100",onClick:function(){var e=N();k(a,e)}},"Last page"))),s.a.createElement(O,{postList:m,deletePost:function(e){c(a.filter((function(t){return t.id!==e}))),d(m.filter((function(t){return t.id!==e})))}}))},P=function(){function e(t){Object(h.a)(this,e),this.id="",this.name="",this.username="",this.email="",this.street="",this.suite="",this.city="",this.zipcode="",this.lat="",this.lng="",this.phone="",this.website="",this.companyName="",this.companyCatchPhrase="",this.companyBs="",null!=t&&(this.id=t.id||"",this.name=t.name||"",this.username=t.username||"",this.email=t.email||"",this.street=t.street||"",this.suite=t.suite||"",this.city=t.city||"",this.zipcode=t.zipcode||"",this.lat=t.lat||"",this.lng=t.lng||"",this.phone=t.phone||"",this.website=t.website||"",this.companyName=t.companyName||"",this.companyCatchPhrase=t.companyCatchPhrase||"",this.companyBs=t.companyBs||"")}return Object(p.a)(e,[{key:"fullAddress",value:function(){return"".concat(this.street," ").concat(this.suite," ").concat(this.zipcode," ").concat(this.city)}}],[{key:"deserialize",value:function(t){return new e({id:t.id,name:t.name,username:t.username,email:t.email,street:t.address.street,suite:t.address.suite,city:t.address.city,zipcode:t.address.zipcode,lat:t.address.geo.lat,lng:t.address.geo.lng,phone:t.phone,website:t.website,companyName:t.company.name,companyCatchPhrase:t.company.catchPhrase,companyBs:t.company.bs})}}]),e}(),k=new(function(){function e(){Object(h.a)(this,e),this._relativeUrl="users"}return Object(p.a)(e,[{key:"retrieveUser",value:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=P,e.next=3,v.get("".concat(this._relativeUrl,"/").concat(t));case 3:return e.t1=e.sent.data,e.abrupt("return",e.t0.deserialize.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveUserList",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("".concat(this._relativeUrl));case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return P.deserialize(e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),N=function(e){var t,n,a,c,i=Object(r.useState)(!1),o=Object(u.a)(i,2),l=o[0],h=o[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),v=f[0],b=f[1],y=Object(r.useState)(null),w=Object(u.a)(y,2),j=w[0],P=w[1],k=function(){var t=Object(d.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!v),null==j){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,E.retrievePostFromUser(e.user.id);case 5:n=t.sent,P(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:"m"},s.a.createElement("div",null,s.a.createElement("span",null,null===(t=e.user)||void 0===t?void 0:t.name),s.a.createElement("div",null,s.a.createElement("span",{className:"mw-300"},s.a.createElement("button",{className:"mx",onClick:function(){h(!l)}},l?"Hide":"Show"," Details")),s.a.createElement("span",{className:"mw-300"},s.a.createElement("button",{className:"mx",onClick:k},v?"Hide":"Show"," Posts")))),l&&s.a.createElement("div",{className:"m"},s.a.createElement("div",null,s.a.createElement("span",null,"Username"),s.a.createElement("span",null,null===(n=e.user)||void 0===n?void 0:n.username)),s.a.createElement("div",null,s.a.createElement("span",null,"Mail"),s.a.createElement("span",null,null===(a=e.user)||void 0===a?void 0:a.email)),s.a.createElement("div",null,s.a.createElement("span",null,"Address"),s.a.createElement("span",null,null===(c=e.user)||void 0===c?void 0:c.fullAddress()))),v&&s.a.createElement("div",{className:"m"},s.a.createElement(O,{postList:j||[]})))},x=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),l=Object(u.a)(i,2),m=l[0],d=l[1];Object(r.useEffect)((function(){var e=Object(o.a)(k.retrieveUserList()).subscribe({next:function(e){c(e),d(e)},error:function(e){}});return function(){e.unsubscribe()}}),[]);return s.a.createElement("div",null,s.a.createElement(y,{title:"Search user by first name or last name",onNewSearch:function(e){var t=null===e||void 0===e?void 0:e.toLowerCase();null!=t&&d(a.filter((function(e){var n,a;return null===(n=e.name)||void 0===n||null===(a=n.toLowerCase())||void 0===a?void 0:a.includes(t)})))},onReset:function(){d(a)}}),m.map((function(e){return s.a.createElement(N,{key:e.id,user:e})})))};!function(e){e.Users="users",e.Posts="posts"}(a||(a={}));var S=function(){var e=Object(r.useState)(a.Posts),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(e){c(e)};return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("div",null,s.a.createElement("span",{className:"m ".concat(n===a.Posts?"bold":""," "),onClick:function(){return i(a.Posts)}},"Posts"),s.a.createElement("span",{className:"m ".concat(n===a.Users?"bold":""," "),onClick:function(){return i(a.Users)}},"Users"))),n===a.Posts&&s.a.createElement(j,null),n===a.Users&&s.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.cac35821.chunk.js.map